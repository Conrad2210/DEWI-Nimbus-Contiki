<!-- the modal that is used to edit a store in the directory -->
<div class="container-fluid no-margin-padding" style="margin-bottom: 25px; margin-top: 15px;">
    <h4 style="text-align:center;">Edit Account Details</h4>
    <div class="col-md-12">
        <ul class="nav nav-tabs editTabs">
            <li style="margin-left: 30px;" ng-class="{'active' : activeTab == 1}"><a ng-click="setActiveTab(1); setEditTab('tab1')">User data</a></li>
            <li ng-class="{'active' : activeTab == 2}"><a ng-click="setActiveTab(2); setEditTab('tab2')">Image</a></li>
        </ul>
    </div>
    <div ng-switch on="editTab">
        <div class="col-md-12" ng-switch-when="tab1">
            <div class="form-group">
                <label style="margin-top: 10px;">
                    Username:<span class="error" ng-show="isNewAccount && !isValid">
                        Required!
                    </span>
                </label>
                <input ng-change="usernameInput()" ng-model="tempAccount.username" type="text" class="form-control" name="name" id="name" placeholder="enter name" required>
                <label style="margin-top: 10px;">Firstname: </label>
                <input ng-model="tempAccount.firstname" type="text" class="form-control" id="name2" placeholder="enter secondary name">
                <label style="margin-top: 10px;">Lastname: </label>
                <input ng-model="tempAccount.lastname" type="text" class="form-control" id="addressline1" placeholder="enter address">
                <label style="margin-top: 10px;">
                    Admin type:
                    <select ng-model="tempAccount.admintype">
                        <option value="">-- Select a admin type --</option>
                        <option ng-repeat="admintype in admintypes" value="{{admintype}}">{{admintype}}</option>
                    </select>
                </label><br />
                <label style="margin-top: 10px;">
                    Status:
                    <select ng-model="tempAccount.status">
                        <option value="">-- Select a status type --</option>
                        <option ng-repeat="status in statuss" value="{{status}}">{{status}}</option>
                    </select>
                </label><br />
            </div>
        </div>

        <div class="col-md-12" ng-switch-when="tab2">
            <hr />
            <label style="margin-top: 10px;">Account Image: </label>
            <p>Upload a new image:</p>
            <input type="file" ng-model="accountImg" name="name" base-sixty-four-input required onload="onLoad" maxsize="500" accept="image/png">
            <br />
            <table class="table" style="width: 100%;">
                <thead>
                    <tr>
                        <th style="text-align: center;">Current Image</th>
                        <th style="text-align: center;">Preview New Image</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <th ng-show="showAccountImg" style="text-align: center;">
                            <img class="img-thumbnail" style="width:150px;" ng-src='{{tempAccount.image_string}}' onError="this.src = './img/spinner.gif'"/>
                            <br />
                            <button class="btn btn-primary" ng-click="deleteAccountImage()" style="margin-top:10px;">Delete Image</button>
                        </th>
                        <th ng-show="!showAccountImg" style="text-align: center;">
                            <img class="img-thumbnail" style="width:150px;" src='../img/blank_profile.jpg' />
                        </th>
                        <th ng-show="previewAccountImg" style="text-align: center;">
                            <img class="img-thumbnail" style="width:150px;" ng-src='data:image/png;base64,{{accountImg.base64}}' />
                            <br />
                            <button class="btn btn-success" ng-click="changeAccountImage()">Confirm</button>
                            <button class="btn btn-danger" ng-click="discardUploadedImage(1)">Cancel</button>
                        </th>
                    </tr>
                </tbody>
            </table>
            <hr />
        </div>


        <div class="col-md-12" style="text-align:center; padding-top: 40px;">
            <button class="btn btn-danger" ng-click="changeAccountDisplay('goBack'); " style="margin-right: 25px;">Cancel</button>
            <button class="btn btn-success" ng-click="addUpdateAccount();changeAccountDisplay('goBack'); " style="margin-left: 25px;">Confirm</button>
        </div>
    </div>
</div>


