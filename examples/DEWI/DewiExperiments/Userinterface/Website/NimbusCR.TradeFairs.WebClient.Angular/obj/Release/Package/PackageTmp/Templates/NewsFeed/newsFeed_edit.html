<!-- the modal that is used to edit a store in the directory -->
<div class="container-fluid no-margin-padding" style="margin-bottom: 25px; margin-top: 15px;">
    <h4 style="text-align:center;">Edit NewsFeed Details</h4>
    <div class="col-md-12">
        <ul class="nav nav-tabs editTabs">
            <li style="margin-left: 30px;" ng-class="{'active' : activeTab == 1}"><a ng-click="setActiveTab(1); setEditTab('tab1')">Basic</a></li>
            <li ng-class="{'active' : activeTab == 2}"><a ng-click="setActiveTab(2); setEditTab('tab2')">Display</a></li>
            <li ng-class="{'active' : activeTab == 3}"><a ng-click="setActiveTab(3); setEditTab('tab3')">Image</a></li>
            <li ng-class="{'active' : activeTab == 4}"><a ng-click="setActiveTab(4); setEditTab('tab4')">Location</a></li>
        </ul>
    </div>
    <div ng-switch on="editTab">

        <div class="col-md-12" ng-switch-when="tab1">
            <label style="margin-top: 10px;">
                Title:<span class="error" ng-show="isNewNewsFeed && !isValid">
                    Required!
                </span>
            </label>
            <input ng-change="nameInput()" ng-model="tempNewsFeed.title" type="text" class="form-control" name="name" id="name" placeholder="enter name" required>
            <label style="margin-top: 10px;">URL:</label>
            <input ng-model="tempNewsFeed.url_link" type="text" class="form-control" name="name" id="name" placeholder="enter URL">
            <label style="margin-top: 10px;">Action type:</label>
            </br>
            </br>
            <label>
                <input type="radio" class="form-control" name="radio" id="actiontype" value="S_CMSNewsFeedActionType_message" ng-model="tempNewsFeed.action_type">
                Message
            </label>
            <label>
                <input type="radio" class="form-control" name="radio" id="actiontype" value="S_CMSNewsFeedActionType_url_link" ng-model="tempNewsFeed.action_type">
                URL Link
            </label>
            <label>
                <input type="radio" class="form-control" name="radio" id="actiontype" value="S_CMSNewsFeedActionType_custom_1" ng-model="tempNewsFeed.action_type">
                Custom
            </label>
            </br>
            </br>
            <label style="margin-top: 10px;">Message:</label>
            <textarea id="editor1" ckeditor="editorOptions" ng-model="tempNewsFeed.message"></textarea>
            <script>CKEDITOR.replace('editor1');</script>
        </div>



        <div class="col-md-12" ng-switch-when="tab2">
            <div class="col-md-12">
                <div class="col-lg-3 col-sm-3 col-xs-3 col-md-3" style="display:inline-block;">
                    <label style="margin-top: 10px;">
                        Valid from:
                    </label>
                </div>
                <div class="col-lg-9  col-sm-9 col-xs-9 col-md-9" style="display:inline-block;">
                    <a class="dropdown-toggle" id="dropdown" role="button" data-toggle="dropdown" data-target="#">
                        <div class="input-group">
                            <input type="text" id="date" name="date" class="form-control" data-ng-model="tempNewsFeed.valid_from">
                            <span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>
                        </div>
                    </a>
                    <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
                        <datetimepicker data-ng-model="tempNewsFeed.valid_from"
                                        data-datetimepicker-config="{ dropdownSelector: '.dropdown-toggle'}"></datetimepicker>
                    </ul>
                </div>
            </div>
            <div class="col-md-12">
                <div class="col-lg-3 col-sm-3 col-xs-3 col-md-3" style="display:inline-block;">
                    <label style="margin-top: 10px;">
                        Valid to:
                    </label>
                </div>
                <div class="col-lg-9  col-sm-9 col-xs-9 col-md-9" style="display:inline-block;">
                    <a class="dropdown-toggle" id="dropdown" role="button" data-toggle="dropdown" data-target="#">
                        <div class="input-group">
                            <input type="text" id="date" name="date" class="form-control" data-ng-model="tempNewsFeed.valid_to">
                            <span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>
                        </div>
                    </a>
                    <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
                        <datetimepicker data-ng-model="tempNewsFeed.valid_to"
                                        data-datetimepicker-config="{ dropdownSelector: '.dropdown-toggle'}"></datetimepicker>
                    </ul>
                </div>
            </div>
            <div class="col-md-12">
                <div class="col-lg-3 col-sm-3 col-xs-3 col-md-3" style="display:inline-block;">
                    <label style="margin-top: 10px;">
                        Display Duration:
                    </label>
                </div>
                <div class="col-lg-9  col-sm-9 col-xs-9 col-md-9" style="display:inline-block;">
                    <input ng-model="tempNewsFeed.display_duration" string-to-number type="number" class="form-control" name="name" id="name">
                </div>
            </div>
            <div class="col-md-12">
                <div class="col-lg-3 col-sm-3 col-xs-3 col-md-3" style="display:inline-block;">
                    <label style="margin-top: 10px;">
                        Display Period:
                    </label>
                </div>
                <div class="col-lg-9  col-sm-9 col-xs-9 col-md-9" style="display:inline-block;">
                    <input ng-model="tempNewsFeed.display_period" string-to-number type="number" class="form-control" name="name" id="name">
                </div>
            </div>

            <div class="col-md-12" style="align-items:center">
                <div class="col-lg-3 col-sm-3 col-xs-3 col-md-3" style="display:inline-block;">
                    <label style="margin-top: 10px;">
                        Recurrence:
                    </label>
                </div>
                <div class="col-lg-1  col-sm-1 col-xs-1 col-md-1" style="display:inline-block;text-align:center;align-items:center;vertical-align:middle">
                    <label style="margin-top: 10px;">
                        <input ng-model="tempNewsFeed.recurrence_period" value="S_CMSRecurrencePeriod_none" type="radio" class="form-control" name="name" id="name">
                        Always
                    </label>
                </div>
                <div class="col-lg-1  col-sm-1 col-xs-1 col-md-1" style="display:inline-block;text-align:center;align-items:center;vertical-align:middle">
                    <label style="margin-top: 10px;">
                        <input ng-model="tempNewsFeed.recurrence_period" value="S_CMSRecurrencePeriod_hourly" type="radio" class="form-control" name="name" id="name">
                        Hourly
                    </label>
                </div>
                <div class="col-lg-1  col-sm-1 col-xs-1 col-md-1" style="display:inline-block;text-align:center;align-items:center;vertical-align:middle">
                    <label style="margin-top: 10px;">
                        <input ng-model="tempNewsFeed.recurrence_period" value="S_CMSRecurrencePeriod_daily" type="radio" class="form-control" name="name" id="name">
                        Daily
                    </label>
                </div>
                <div class="col-lg-1  col-sm-1 col-xs-1 col-md-1" style="display:inline-block;text-align:center;align-items:center;vertical-align:middle">
                    <label style="margin-top: 10px;">
                        <input ng-model="tempNewsFeed.recurrence_period" value="S_CMSRecurrencePeriod_weekly" type="radio" class="form-control" name="name" id="name">
                        Weekly
                    </label>
                </div>
                <div class="col-lg-1  col-sm-1 col-xs-1 col-md-1" style="display:inline-block;text-align:center;align-items:center;vertical-align:middle">
                    <label style="margin-top: 10px;">
                        <input ng-model="tempNewsFeed.recurrence_period" value="S_CMSRecurrencePeriod_monthly" type="radio" class="form-control" name="name" id="name">
                        Monthly
                    </label>
                </div>
                <div class="col-lg-1  col-sm-1 col-xs-1 col-md-1" style="display:inline-block;text-align:center;align-items:center;vertical-align:middle">
                    <label style="margin-top: 10px;">
                        <input ng-model="tempNewsFeed.recurrence_period" value="S_CMSRecurrencePeriod_yearly" type="radio" class="form-control" name="name" id="name">
                        Yearly
                    </label>
                </div>
            </div>
            <div class="col-md-12" style="align-items:center" ng-show="tempNewsFeed.recurrence_period!='S_CMSRecurrencePeriod_none' && tempNewsFeed.recurrence_period!=''">
                <div class="col-lg-3 col-sm-3 col-xs-3 col-md-3" style="display:inline-block;">
                    <label style="margin-top: 10px;">
                        Recurrence from:
                    </label>
                </div>
                <div class="col-lg-9  col-sm-9 col-xs-9 col-md-9" style="display:inline-block;">
                    <rzslider rz-slider-model="slider.from" rz-slider-options="slider.fromOptions"></rzslider>
                </div>
            </div>
            <div class="col-md-12" style="align-items:center" ng-show="tempNewsFeed.recurrence_period!='S_CMSRecurrencePeriod_none' && tempNewsFeed.recurrence_period!=''">
                <div class="col-lg-3 col-sm-3 col-xs-3 col-md-3" style="display:inline-block;">
                    <label style="margin-top: 10px;">
                        Recurrence to:
                    </label>
                </div>
                <div class="col-lg-9  col-sm-9 col-xs-9 col-md-9" style="display:inline-block;">           
                    
                    <rzslider rz-slider-model="slider.to"  rz-slider-high="slider.toMax" rz-slider-options="slider.toOptions"></rzslider>
                </div>
            </div>
        </div>




        <div class="col-md-12" ng-switch-when="tab3">
            <hr />
            <label style="margin-top: 10px;">Image: </label>
            <p>Upload a new image: ( Please ensure only .png files are selected )</p>
            <input type="file" ng-model="newsFeedImg" name="name" base-sixty-four-input required onload="onLoad" maxsize="500" accept="image/png">
            <br />
            <table class="table" style="width: 100%;">
                <thead>
                    <tr>
                        <th style="text-align: center;">Current Image</th>
                        <th style="text-align: center;">Preview New Image</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <th ng-show="showNewsFeedImg" style="text-align: center;">
                            <img class="img-thumbnail" style="width:150px;" ng-src='{{tempNewsFeed.image_string}}' onError="this.src = '../img/spinner.gif'"/>
                            <br />
                            <button class="btn btn-primary" ng-click="deleteNewsFeedImage()" style="margin-top:10px;">Delete Image</button>
                        </th>
                        <th ng-show="!showNewsFeedImg" style="text-align: center;">
                            <img class="img-thumbnail" style="width:150px;" src='../img/blank_profile.jpg' />
                        </th>
                        <th ng-show="previewNewsFeedImg" style="text-align: center;">
                            <img class="img-thumbnail" style="width:150px;" ng-src='data:image/png;base64,{{newsFeedImg.base64}}' />
                            <br />
                            <button class="btn btn-success" ng-click="changeNewsFeedImage()">Confirm</button>
                            <button class="btn btn-danger" ng-click="discardUploadedImage(1)">Cancel</button>
                        </th>
                    </tr>
                </tbody>
            </table>
            <hr />
        </div>
        <div class="col-md-12" ng-switch-when="tab4">
            </br>
            </br>
            <div class="col-md-1">
                <label style="margin-top: 10px;">
                    Store:
                </label>
            </div>
            <div class="col-md-4">
                <select class="btn btn-default dropdown-toggle dropdown" type="button" id="dropDownSort"
                        data-toggle="dropdown" aria-haspopup="true" aria-expanded="true" ng-model="tempNewsFeed.store_id">

                    <option ng-repeat="store in storeList.stores|orderBy:id" n="{{store.id}}">ID: {{store.id}} Name: {{store.name1}}</option>
                </select>

            </div>
            </br>
            </br>
            <div class="col-md-1">
                <label style="margin-top: 10px;">
                    Booth:
                </label>
            </div>
            <div class="col-md-4">
                <select class="btn btn-default dropdown-toggle dropdown" type="button" id="dropDownSort"
                        data-toggle="dropdown" aria-haspopup="true" aria-expanded="true" ng-model="tempNewsFeed.booth_id">
                    <option ng-repeat="booth in boothList.booths|orderBy:id" value="{{booth.id}}">ID: {{booth.id}} Booth: {{booth.booth}} Hall: {{booth.hall}}</option>
                </select>

            </div>
        </div>
        <div class="col-md-12" style="text-align:center; padding-top: 40px;">
            <button class="btn btn-danger" ng-click="changeNewsFeedDisplay('goBack'); " style="margin-right: 25px;">Cancel</button>
            <button class="btn btn-success" ng-click="addUpdateNewsFeed();changeNewsFeedDisplay('goBack'); " style="margin-left: 25px;">Confirm</button>
        </div>
    </div>
</div>


