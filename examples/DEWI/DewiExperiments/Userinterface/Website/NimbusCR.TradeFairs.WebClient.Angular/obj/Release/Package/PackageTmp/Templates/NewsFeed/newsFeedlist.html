<div class="container-fluid no-margin-padding" id="store-section">
    <div class="row no-margin-padding" id="store-topnav">
        <ul class="nav navbar-nav">
            <li>
                <button class="btn btn-default dropdown-toggle dropdown" type="button" id="dropDownSort"
                        data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                    Results Per Page: {{paginationDetails.displayNum}}
                    <span class="caret"></span>
                </button>
                <ul class="dropdown-menu" aria-labelledby="dropDownSort">
                    <li ng-repeat="number in paginationDetails.pageSize"><a ng-click="changePageNum(number);">{{number}}</a></li>
                </ul>
            </li>
            <li>
                <button class="btn btn-default dropdown-toggle dropdown" type="button" id="dropDownSort"
                        data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                    Sort by: {{sortType}}
                    <span class="caret"></span>
                </button>
                <ul class="dropdown-menu" aria-labelledby="dropDownSort">
                    <li ng-repeat="sort in SortTypeArray"><a ng-click="changeSortType(sort);">{{sort}}</a></li>
                </ul>
            </li>
            <li><input type="text" class="form-control" placeholder="Search User" ng-model="search"></li>
            <li>
                <button class="btn btn-default" ng-click="newsFeedCategorySetup(item);addEditStoreSetup(item, 1);changeNewsFeedDisplay('NewsFeedEdit'); setActiveTab(1); setEditTab('tab1')" style="margin-left: 30px;">Add New NewsFeed</button>
            </li>
            <li><a ng-click="changedDispaySelection('NewsFeed'); changeNewsFeedDisplay('NewsFeedCard');">card view  <i class="fa fa-th fa-1x"></i></a></li>
            <li><a ng-click="changedDispaySelection('NewsFeed'); changeNewsFeedDisplay('NewsFeedList');">list view  <i class="fa fa-list fa-1x"> </i></a></li>
        </ul>
    </div>
    <div class="row no-margin-padding" id="list-display">
        <h4 style="margin-left: 30px;">News Feeds </h4>
        <table st-table="storelist" class="table table-striped table-bordered table-hover no-margin-padding">
            <thead>
                <tr style="background-color: #333333; color: white;">
                    <th href="#" ng-click="changeSortType('name',1)">
                        Title
                        <span ng-show="sortType == 'name' && !sortReverse" class="fa fa-caret-down"></span>
                        <span ng-show="sortType == 'name' && sortReverse" class="fa fa-caret-up"></span>

                    </th>
                    <th href="#" ng-click="changeSortType('validFrom',1)">
                        Valid from
                        <span ng-show="sortType == 'validFrom' && !sortReverse" class="fa fa-caret-down"></span>
                        <span ng-show="sortType == 'validFrom' && sortReverse" class="fa fa-caret-up"></span>

                    </th>
                    <th href="#" ng-click="changeSortType('validTo',1)">
                        Valid to
                        <span ng-show="sortType == 'validTo' && !sortReverse" class="fa fa-caret-down"></span>
                        <span ng-show="sortType == 'validTo' && sortReverse" class="fa fa-caret-up"></span>

                    </th>
                    <th>Options</th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="item in (newsFeedList.newsFeeds|orderBy:sortType:sortReverse|filter:search).slice(paginationDetails.startNum, paginationDetails.endNum)">
                    <td in-view="loadImage(item, $inview)" in-view-options="{debounce: 2000}" ng-style="item.outOfDate && {'background-color':'yellow'}">
                        {{item.title}}
                    </td>
                    <td ng-style="item.outOfDate && {'background-color':'yellow'}">
                        {{item.valid_from*1000|date:'yyyy-MM-dd HH:mm:ss Z'}}
                    </td>
                    <td ng-style="item.outOfDate && {'background-color':'yellow'}">
                        {{item.valid_to*1000|date:'yyyy-MM-dd HH:mm:ss Z'}}
                    </td>
                    <td width="10%" ng-style="item.outOfDate && {'background-color':'yellow'}">
                        <a><i onmouseover="" style="cursor: pointer;" class="fa fa-eye fa-2x" aria-hidden="true" ng-click="newsFeedCategorySetup(item);newsFeedDetailsShow(item);changeNewsFeedDisplay('NewsFeedDetails')"></i></a>
                        <a ng-show="isAdmin && !item.outOfDate" ng-click="newsFeedCategorySetup(item);addEditNewsFeedSetup(item, 2);changeNewsFeedDisplay('NewsFeedEdit'); setActiveTab(1); setEditTab('tab1')"><i onmouseover="" style="cursor: pointer;" class="fa fa-pencil fa-2x" aria-hidden="true"></i></a>
                        <a ng-show="isAdmin && !item.outOfDate" ng-click="deleteNewsFeedModal(item)"><i onmouseover="" style="cursor: pointer;" class="fa fa-trash-o fa-2x" aria-hidden="true"></i></a>
                    </td>
                </tr>
            </tbody>
            <tfoot class="list-unstyled">
                <tr>
                    <th colspan="5" style="text-align:center; background-color: #333333; color: white;">
                        <button style="color: black; margin-right: 10px; margin-left: 10px;" class="pull-left" ng-click="firstPage()"> << </button>
                        <button style="color: black;" class="pull-left" ng-click="prevPage()">Previous</button>
                        Page {{paginationDetails.pageNum}} of {{paginationDetails.totalPages}}
                        <button style="color: black; margin-left: 10px; margin-right: 10px;" class="pull-right" ng-click="lastPage()"> >> </button>
                        <button style="color: black;" class="pull-right" ng-click="nextPage()">Next</button>
                    </th>
                </tr>
            </tfoot>
        </table>
    </div>
</div>


<!-- the modal that is used as dialog to confirm deleting a newsFeed -->
<div class="modal fade" id="deleteNewsFeedModal" tabindex="-1" role="form" style="margin-top: 100px;">
    <div class="modal-dialog modal-md" role="document">
        <div class="modal-header modalHeader" style="text-align: center;">
            <h4>Delete NewsFeed</h4>
        </div>
        <div class="modal-content modalContent">
            <div class="row modalRow">
                <div class="col-md-8 col-md-offset-2" style="text-align: center; margin-bottom: 25px; margin-top: 15px;">
                    <label>Delete newsFeed: {{editShop.title}}</label>
                    <p>Are you sure??</p>
                    <button class="btn btn-danger" ng-click="" data-dismiss="modal" style="margin-right: 25px;">No</button>
                    <button class="btn btn-success" ng-click="deleteNewsFeed(editShop.id)" data-dismiss="modal" style="margin-left: 25px;">Yes</button>
                </div>
            </div>
        </div>
    </div>
</div>